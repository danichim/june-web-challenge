let x=document.createElement("CANVAS");x.width=608,x.height=608;var w=x.getContext("2d"),b=32;function p(){return{x:Math.floor(17*Math.random()+1)*b,y:Math.floor(15*Math.random()+3)*b}}var bg=new Image;bg.src="b.png";var q=new Image;q.src="g.png";let s=[];s[0]={x:9*b,y:10*b};let d,l=p();function m(e){let t=e.keyCode;37==t&&"R"!=d?d="L":38==t&&"D"!=d?d="U":39==t&&"L"!=d?d="R":40==t&&"U"!=d&&(d="D")}function r(){w.drawImage(bg,0,0);for(let e=0;e<s.length;e++)w.fillStyle=0==e?"red":"salmon",w.fillRect(s[e].x,s[e].y,b,b);w.drawImage(q,l.x,l.y);let e=s[0].x,t=s[0].y;"L"==d&&(e-=b),"U"==d&&(t-=b),"R"==d&&(e+=b),"D"==d&&(t+=b),e==l.x&&t==l.y?l=p():s.pop(),(e<b||e>17*b||t<3*b||t>17*b)&&clearInterval(g),s.unshift({x:e,y:t})}document.addEventListener("keydown",m),document.body.appendChild(x);var g=setInterval(r,100);